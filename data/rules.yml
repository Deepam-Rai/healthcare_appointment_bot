version: "3.1"

rules:

# general rule
- rule: Say bye anytime the user says bye
  steps:
  - intent: goodbye
  - action: utter_goodbye
  
#######################################################################################################################

# Login Form
- rule: Login form activate
  condition:
  - active_loop: null
  steps:
  - intent: login_form_intent
  - action: login_form
  - active_loop: login_form

- rule: Login form deactivate
  condition:
  - active_loop: login_form
  steps:
  - action: login_form
  - active_loop: login_form
  - active_loop: null
  - action: action_submit_login_form
  
#######################################################################################################################

# Register Form
- rule: Register form activate
  condition:
  - active_loop: null
  steps:
  - intent: register_form_intent
  - action: register_form
  - active_loop: register_form

- rule: Register form deactivate
  condition:
  - active_loop: register_form
  steps:
  - action: register_form
  - active_loop: register_form
  - active_loop: null
  - action: action_submit_register_form
  
#######################################################################################################################

# Book Appointment Form
- rule: Book appointment form activate
  condition:
  - active_loop: null
  steps:
  - intent: book_appointment_intent
  - action: book_appointment_form
  - active_loop: book_appointment_form
  
- rule: Book Appointment form deactivate
  condition:
  - active_loop: book_appointment_form
  steps:
  - action: book_appointment_form
  - active_loop: book_appointment_form
  - active_loop: null
  - action: action_submit_book_appointment_form
  
#######################################################################################################################

# Get Appointment Form
- rule: Get appointment form activate
  condition:
  - active_loop: null
  steps:
  - intent: get_appointment_intent
  - action: get_appointment_form
  - active_loop: get_appointment_form
  
- rule: Get Appointment form deactivate
  condition:
  - active_loop: get_appointment_form
  steps:
  - action: get_appointment_form
  - active_loop: get_appointment_form
  - active_loop: null
  - action: action_submit_get_appointment_form
  
#######################################################################################################################

# Delete Appointment Form
- rule: Delete appointment form activate
  condition:
  - active_loop: null
  steps:
  - intent: delete_appointment_intent
  - action: delete_appointment_form
  - active_loop: delete_appointment_form
  
- rule: Delete Appointment form deactivate
  condition:
  - active_loop: delete_appointment_form
  steps:
  - action: delete_appointment_form
  - active_loop: delete_appointment_form
  - active_loop: null
  - action: action_submit_delete_appointment_form
  
#######################################################################################################################

# Update Appointment Form
- rule: Update appointment form activate
  condition:
  - active_loop: null
  steps:
  - intent: update_appointment_intent
  - action: update_appointment_form
  - active_loop: update_appointment_form

- rule: Update Appointment form deactivate
  condition:
  - active_loop: update_appointment_form
  steps:
  - action: update_appointment_form
  - active_loop: update_appointment_form
  - active_loop: null
  - action: action_submit_update_appointment_form

#######################################################################################################################

